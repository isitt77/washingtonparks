// Parks
const ParksApi = "https://services5.arcgis.com/4LKAHwqnBooVDUlX/arcgis/rest/services/LandClassification/FeatureServer/0/query?where=1%3D1&outFields=*&outSR=4326&f=json"

function fetchData() {
    fetch(ParksApi)
        .then(res => {
            if (!res.ok) {
                throw Error("Response not ok.")
            }
            return res.json()
        })
        .then(data => {
            // console.log(data)
            // Video 3's loop (.map) 
            const features = data.features.map(f => {
                // console.log(f.attributes)
                // return `<p>${f.attributes.OBJECTID}. ${f.attributes.ParkName} ${f.geometry.rings[0]}</p>`
                const a = f.attributes.ParkName
                const g = f.geometry.rings[0]
                // const featureCollection = [a, g]
                const featureCollection = {
                    parkName: a,
                    geometry: g
                }
                // console.log(featureCollection)
                // return featureCollection
                // return data
            })
            // .join(" ")
            // console.log(features)
            // document.querySelector("#app")
            //     .insertAdjacentHTML("afterbegin", features)
            // console.log(featureCollection)
            // return featureCollection
            // return features

        })
        .catch(err => {
            console.log(err)
        })
}

// fetchData()


// console.log(parkFeatures)
// console.log(park)

// MapBox
mapboxgl.accessToken = "pk.eyJ1IjoiaXNpdHQ3NyIsImEiOiJja3dvam45NjAwM2oyMndqdjNzdHNpZGtmIn0.N1zn-7deVgeJLaqFawePDg";
const map = new mapboxgl.Map({
    container: 'map', // container ID
    center: [-120.7401, 47.40], // starting position [lng, lat]
    zoom: 6.3, // starting zoom
    style: 'mapbox://styles/mapbox/light-v10'
    // 'mapbox://styles/mapbox/streets-v11', // style URL or style object
    // hash: true, // sync `center`, `zoom`, `pitch`, and `bearing` with URL
    // Use `transformRequest` to modify requests that begin with `http://myHost`.
    // transformRequest: (url, resourceType) => {
    //     if (resourceType === 'Source' && url.startsWith('http://myHost')) {
    //         return {
    //             url: url.replace('http', 'https'),
    //             headers: { 'my-custom-header': true },
    //             credentials: 'include'  // Include cookies for cross-origin requests
    //         };
    //     }
    // }
});

// Add zoom and rotation controls to the map.
map.addControl(new mapboxgl.NavigationControl());

// From YelpCamp
map.on('load', () => {
    // Add a new source from our GeoJSON data and
    // set the 'cluster' option to true. GL-JS will
    // add the point_count property to your source data.
    map.addSource('parks', {
        type: 'geojson',
        // Point to GeoJSON data. This example visualizes all M1.0+ earthquakes
        // from 12/22/15 to 1/21/16 as logged by USGS' Earthquake hazards program.
        // data: parkFeatures, // <-- Not valid geojson object.
        data: {
            type: "Feature",
            geometry: {
                type: "Polygon",
                coordinates:
                    [
                        [
                            [
                                -119.927530700517,
                                48.023741551045
                            ],
                            [
                                -119.927452418436,
                                48.0218079703279
                            ],
                            [
                                -119.927447903134,
                                48.021698447233
                            ],
                            [
                                -119.932190319649,
                                48.0217357905579
                            ],
                            [
                                -119.93255646221,
                                48.0218574806941
                            ],
                            [
                                -119.932373893892,
                                48.0221047004762
                            ],
                            [
                                -119.932361611002,
                                48.0221200826377
                            ],
                            [
                                -119.932355383887,
                                48.0221270759973
                            ],
                            [
                                -119.932052594642,
                                48.0224559016692
                            ],
                            [
                                -119.931893344554,
                                48.0228452455754
                            ],
                            [
                                -119.931886214079,
                                48.0228608360082
                            ],
                            [
                                -119.931876794839,
                                48.0228776238662
                            ],
                            [
                                -119.931872838672,
                                48.02288381622
                            ],
                            [
                                -119.931656565563,
                                48.0232110509201
                            ],
                            [
                                -119.931649481374,
                                48.0232211979819
                            ],
                            [
                                -119.931648882909,
                                48.0232220088382
                            ],
                            [
                                -119.931428335825,
                                48.0235195066271
                            ],
                            [
                                -119.931374488872,
                                48.023606374916
                            ],
                            [
                                -119.930937237737,
                                48.0235978259077
                            ],
                            [
                                -119.93093796261,
                                48.0235992213315
                            ],
                            [
                                -119.930943033001,
                                48.0236089614055
                            ],
                            [
                                -119.930275967855,
                                48.0241317859798
                            ],
                            [
                                -119.930098522726,
                                48.0242708593581
                            ],
                            [
                                -119.933133912596,
                                48.0258251117661
                            ],
                            [
                                -119.933230629559,
                                48.0258746312536
                            ],
                            [
                                -119.933760601844,
                                48.0269383067518
                            ],
                            [
                                -119.933735661713,
                                48.0269255101756
                            ],
                            [
                                -119.927530700517,
                                48.023741551045
                            ]
                        ],
                        [
                            [
                                -119.93345164432,
                                48.0259606741169
                            ],
                            [
                                -119.934546125272,
                                48.0257371149379
                            ],
                            [
                                -119.934707498766,
                                48.0266171580358
                            ],
                            [
                                -119.934716250075,
                                48.0266648731066
                            ],
                            [
                                -119.934716669137,
                                48.0267001746655
                            ],
                            [
                                -119.934717113652,
                                48.0267372342196
                            ],
                            [
                                -119.934718978409,
                                48.0268941704969
                            ],
                            [
                                -119.934719321566,
                                48.0269231523328
                            ],
                            [
                                -119.934721843738,
                                48.027135489489
                            ],
                            [
                                -119.93472198771,
                                48.0271477341508
                            ],
                            [
                                -119.934722579939,
                                48.0271975670845
                            ],
                            [
                                -119.934433283381,
                                48.0271970499604
                            ],
                            [
                                -119.934312651558,
                                48.0271968338414
                            ],
                            [
                                -119.934292463369,
                                48.0271967978603
                            ],
                            [
                                -119.934268173468,
                                48.0271967547299
                            ],
                            [
                                -119.933959567471,
                                48.0270403887573
                            ],
                            [
                                -119.933936145208,
                                48.0270326753354
                            ],
                            [
                                -119.933935244927,
                                48.0270323778726
                            ],
                            [
                                -119.93393455925,
                                48.0270275577284
                            ],
                            [
                                -119.933929296667,
                                48.0269905954691
                            ],
                            [
                                -119.93388826058,
                                48.0269033629324
                            ],
                            [
                                -119.933765693086,
                                48.026642815147
                            ],
                            [
                                -119.933697167275,
                                48.0264971498629
                            ],
                            [
                                -119.933703398198,
                                48.0264958437077
                            ],
                            [
                                -119.933685294629,
                                48.026457362927
                            ],
                            [
                                -119.933461941609,
                                48.0259825663373
                            ],
                            [
                                -119.93345164432,
                                48.0259606741169
                            ]
                        ],
                        [
                            [
                                -119.940088492386,
                                48.0227658834744
                            ],
                            [
                                -119.940135757817,
                                48.0227313331538
                            ],
                            [
                                -119.940495195752,
                                48.02290838498
                            ],
                            [
                                -119.940535687101,
                                48.0229283306207
                            ],
                            [
                                -119.940877928049,
                                48.0230969110588
                            ],
                            [
                                -119.94082051837,
                                48.0231457273063
                            ],
                            [
                                -119.940637625374,
                                48.0233149478642
                            ],
                            [
                                -119.940547707097,
                                48.0234643396765
                            ],
                            [
                                -119.940411400365,
                                48.0236254570044
                            ],
                            [
                                -119.940408842557,
                                48.0236286629583
                            ],
                            [
                                -119.94040604104,
                                48.0236327336523
                            ],
                            [
                                -119.940403640423,
                                48.0236369186504
                            ],
                            [
                                -119.940402239756,
                                48.0236398324863
                            ],
                            [
                                -119.94032688788,
                                48.0238094510097
                            ],
                            [
                                -119.940326301088,
                                48.0238108176514
                            ],
                            [
                                -119.940324737687,
                                48.0238151765758
                            ],
                            [
                                -119.940323599892,
                                48.0238195950728
                            ],
                            [
                                -119.940322929815,
                                48.0238237667263
                            ],
                            [
                                -119.940295957701,
                                48.0240590651199
                            ],
                            [
                                -119.940261332423,
                                48.0243255992415
                            ],
                            [
                                -119.940155616015,
                                48.0245595128754
                            ],
                            [
                                -119.940154891887,
                                48.0245611899742
                            ],
                            [
                                -119.940153325768,
                                48.0245655488815
                            ],
                            [
                                -119.940152787001,
                                48.0245674426634
                            ],
                            [
                                -119.940076149846,
                                48.0248576837069
                            ],
                            [
                                -119.940075554782,
                                48.0248602102349
                            ],
                            [
                                -119.940034419964,
                                48.0250590084664
                            ],
                            [
                                -119.939940354439,
                                48.0252034039257
                            ],
                            [
                                -119.939939863772,
                                48.0252041712768
                            ],
                            [
                                -119.939937463056,
                                48.0252083553623
                            ],
                            [
                                -119.939935482196,
                                48.0252126367594
                            ],
                            [
                                -119.93993391604,
                                48.0252169956619
                            ],
                            [
                                -119.939932780863,
                                48.0252214141641
                            ],
                            [
                                -119.939932066388,
                                48.0252259767389
                            ],
                            [
                                -119.939914132722,
                                48.0253987357806
                            ],
                            [
                                -119.939864071393,
                                48.025622446889
                            ],
                            [
                                -119.939747841867,
                                48.0259198972841
                            ],
                            [
                                -119.939746927601,
                                48.0259224384729
                            ],
                            [
                                -119.93964740273,
                                48.0262235389083
                            ],
                            [
                                -119.939567589868,
                                48.0263570230607
                            ],
                            [
                                -119.939469470734,
                                48.0264175845852
                            ],
                            [
                                -119.939060799715,
                                48.0265762306936
                            ],
                            [
                                -119.938314110756,
                                48.0268631972359
                            ],
                            [
                                -119.938308745606,
                                48.0268654087366
                            ],
                            [
                                -119.938303283999,
                                48.0268679938301
                            ],
                            [
                                -119.938300722869,
                                48.026869339339
                            ],
                            [
                                -119.937618348313,
                                48.0272389301558
                            ],
                            [
                                -119.937615714741,
                                48.0272404038842
                            ],
                            [
                                -119.937610804495,
                                48.0272434456619
                            ],
                            [
                                -119.937608383444,
                                48.0272451029376
                            ],
                            [
                                -119.937139166323,
                                48.0275771566269
                            ],
                            [
                                -119.936546464809,
                                48.0279908635903
                            ],
                            [
                                -119.936543799468,
                                48.0279927966166
                            ],
                            [
                                -119.936539524194,
                                48.0279962424201
                            ],
                            [
                                -119.936535588826,
                                48.0279998678874
                            ],
                            [
                                -119.936532023017,
                                48.0280036578746
                            ],
                            [
                                -119.936528854092,
                                48.0280075639579
                            ],
                            [
                                -119.936197156254,
                                48.028450123042
                            ],
                            [
                                -119.936194344602,
                                48.0284542097628
                            ],
                            [
                                -119.936193448244,
                                48.0284556791998
                            ],
                            [
                                -119.936113678021,
                                48.0285909441337
                            ],
                            [
                                -119.936062140375,
                                48.0286783369847
                            ],
                            [
                                -119.935736359297,
                                48.0292307616072
                            ],
                            [
                                -119.935454744318,
                                48.0296557884172
                            ],
                            [
                                -119.935453998736,
                                48.0296569429641
                            ],
                            [
                                -119.935453457186,
                                48.0296578206482
                            ],
                            [
                                -119.935112290232,
                                48.030220942309
                            ],
                            [
                                -119.93511094889,
                                48.0302232781934
                            ],
                            [
                                -119.93485237052,
                                48.0306992222794
                            ],
                            [
                                -119.9346854662,
                                48.0310111139439
                            ],
                            [
                                -119.934685117316,
                                48.0310117731535
                            ],
                            [
                                -119.934683777988,
                                48.0310145442379
                            ],
                            [
                                -119.934652872934,
                                48.0310835415083
                            ],
                            [
                                -119.934652848325,
                                48.0310835863483
                            ],
                            [
                                -119.93464844274,
                                48.0310934209233
                            ],
                            [
                                -119.934645779759,
                                48.0310956137742
                            ],
                            [
                                -119.934645725669,
                                48.0310956575732
                            ],
                            [
                                -119.934642544631,
                                48.0310975305279
                            ],
                            [
                                -119.934642492016,
                                48.0310975617457
                            ],
                            [
                                -119.93463893042,
                                48.0310990435318
                            ],
                            [
                                -119.934638836163,
                                48.0310990826419
                            ],
                            [
                                -119.934634924984,
                                48.031100159921
                            ],
                            [
                                -119.934634856427,
                                48.0311001775747
                            ],
                            [
                                -119.93463462547,
                                48.0311002133301
                            ],
                            [
                                -119.934630755681,
                                48.0311008043593
                            ],
                            [
                                -119.934630661693,
                                48.0311008182941
                            ],
                            [
                                -119.934626590092,
                                48.0311009758543
                            ],
                            [
                                -119.934626367466,
                                48.0311009846747
                            ],
                            [
                                -119.934622089064,
                                48.0311006736743
                            ],
                            [
                                -119.934621968661,
                                48.0311006506163
                            ],
                            [
                                -119.934617948386,
                                48.0310998939713
                            ],
                            [
                                -119.934617878921,
                                48.0310998711582
                            ],
                            [
                                -119.934614055141,
                                48.031098665875
                            ],
                            [
                                -119.934613991105,
                                48.0310986367938
                            ],
                            [
                                -119.934610517541,
                                48.0310970240739
                            ],
                            [
                                -119.934609224003,
                                48.0310962625554
                            ],
                            [
                                -119.934588871338,
                                48.0310842579458
                            ],
                            [
                                -119.934553967543,
                                48.0310636727613
                            ],
                            [
                                -119.93436706525,
                                48.0309530729774
                            ],
                            [
                                -119.934192855349,
                                48.0308506839955
                            ],
                            [
                                -119.934139177966,
                                48.030810504544
                            ],
                            [
                                -119.93404367282,
                                48.0307390135214
                            ],
                            [
                                -119.933941644264,
                                48.0306046815703
                            ],
                            [
                                -119.933832905647,
                                48.0303368009245
                            ],
                            [
                                -119.933831186203,
                                48.0303329999629
                            ],
                            [
                                -119.933704360975,
                                48.0300826530282
                            ],
                            [
                                -119.933618577332,
                                48.0298508061313
                            ],
                            [
                                -119.933574024893,
                                48.0297009504403
                            ],
                            [
                                -119.933583775855,
                                48.0295138799329
                            ],
                            [
                                -119.933635987173,
                                48.0291721728937
                            ],
                            [
                                -119.933686614716,
                                48.0289256421587
                            ],
                            [
                                -119.933755224325,
                                48.0287542757171
                            ],
                            [
                                -119.934995529448,
                                48.0276461033941
                            ],
                            [
                                -119.935101559212,
                                48.0273780269393
                            ],
                            [
                                -119.935131608427,
                                48.0273482550856
                            ],
                            [
                                -119.935145793236,
                                48.0273350631998
                            ],
                            [
                                -119.935162758644,
                                48.027321196806
                            ],
                            [
                                -119.935181041489,
                                48.0273081046272
                            ],
                            [
                                -119.935200559403,
                                48.0272958429147
                            ],
                            [
                                -119.935221228736,
                                48.0272844625188
                            ],
                            [
                                -119.935242965835,
                                48.0272740142898
                            ],
                            [
                                -119.935251482539,
                                48.0272702984717
                            ],
                            [
                                -119.935334834315,
                                48.0272349190852
                            ],
                            [
                                -119.935342519952,
                                48.0272278094069
                            ],
                            [
                                -119.935349140996,
                                48.0272218554415
                            ],
                            [
                                -119.935366108985,
                                48.0272079899293
                            ],
                            [
                                -119.935384386389,
                                48.0271948967931
                            ],
                            [
                                -119.935403904215,
                                48.0271826350461
                            ],
                            [
                                -119.935424577471,
                                48.0271712555321
                            ],
                            [
                                -119.935441402003,
                                48.0271630423882
                            ],
                            [
                                -119.935548318516,
                                48.0271136006066
                            ],
                            [
                                -119.935553230997,
                                48.0271113645794
                            ],
                            [
                                -119.935575938761,
                                48.0271018920491
                            ],
                            [
                                -119.935599523051,
                                48.0270934361846
                            ],
                            [
                                -119.935623880273,
                                48.0270860324551
                            ],
                            [
                                -119.935648908196,
                                48.0270797145376
                            ],
                            [
                                -119.935674497982,
                                48.0270745070863
                            ],
                            [
                                -119.935700542143,
                                48.0270704338623
                            ],
                            [
                                -119.935726926565,
                                48.027067511402
                            ],
                            [
                                -119.935745912616,
                                48.0270661368681
                            ],
                            [
                                -119.935790995182,
                                48.0270198275529
                            ],
                            [
                                -119.935793374768,
                                48.0270174121167
                            ],
                            [
                                -119.935808949434,
                                48.0270028313098
                            ],
                            [
                                -119.935825914561,
                                48.0269889648174
                            ],
                            [
                                -119.935844194447,
                                48.0269758725199
                            ],
                            [
                                -119.935863712094,
                                48.0269636097958
                            ],
                            [
                                -119.935884383826,
                                48.026952230193
                            ],
                            [
                                -119.935906121998,
                                48.0269417818456
                            ],
                            [
                                -119.935928829626,
                                48.0269323092462
                            ],
                            [
                                -119.935952415124,
                                48.0269238533165
                            ],
                            [
                                -119.935976770879,
                                48.0269164495067
                            ],
                            [
                                -119.935984104138,
                                48.0269144678485
                            ],
                            [
                                -119.935988881461,
                                48.026913213046
                            ],
                            [
                                -119.935994398426,
                                48.0268484823315
                            ],
                            [
                                -119.935994606393,
                                48.0268462003416
                            ],
                            [
                                -119.935997228259,
                                48.0268283482481
                            ],
                            [
                                -119.936001584356,
                                48.0268106501379
                            ],
                            [
                                -119.936007656462,
                                48.0267931805544
                            ],
                            [
                                -119.936015418304,
                                48.0267760149013
                            ],
                            [
                                -119.936024839606,
                                48.026759226765
                            ],
                            [
                                -119.936035874037,
                                48.0267428869572
                            ],
                            [
                                -119.936048483298,
                                48.0267270672271
                            ],
                            [
                                -119.936062602342,
                                48.0267118338007
                            ],
                            [
                                -119.936063996459,
                                48.0267104449781
                            ],
                            [
                                -119.936150013323,
                                48.0266252198196
                            ],
                            [
                                -119.936158482484,
                                48.0266171445402
                            ],
                            [
                                -119.936351872352,
                                48.0264396587896
                            ],
                            [
                                -119.936357587514,
                                48.0264345420445
                            ],
                            [
                                -119.936363436759,
                                48.0264295473295
                            ],
                            [
                                -119.936610322768,
                                48.0262237716673
                            ],
                            [
                                -119.936612610926,
                                48.0262218790916
                            ],
                            [
                                -119.936794471003,
                                48.0260730262047
                            ],
                            [
                                -119.936911725241,
                                48.0258599876291
                            ],
                            [
                                -119.936917536025,
                                48.0258500310897
                            ],
                            [
                                -119.936928571322,
                                48.0258336920944
                            ],
                            [
                                -119.936941177419,
                                48.0258178722468
                            ],
                            [
                                -119.936944756836,
                                48.0258137945741
                            ],
                            [
                                -119.937084724426,
                                48.0256574618275
                            ],
                            [
                                -119.937095264842,
                                48.0256463050518
                            ],
                            [
                                -119.937109884839,
                                48.0256325620144
                            ],
                            [
                                -119.937335407754,
                                48.0254338191894
                            ],
                            [
                                -119.937336364334,
                                48.0254329812459
                            ],
                            [
                                -119.937353332541,
                                48.0254191181354
                            ],
                            [
                                -119.937353500206,
                                48.0254189813649
                            ],
                            [
                                -119.937353675874,
                                48.0254188482294
                            ],
                            [
                                -119.937472089643,
                                48.0253285052501
                            ],
                            [
                                -119.937540323985,
                                48.0252564144251
                            ],
                            [
                                -119.937612552829,
                                48.0251288082013
                            ],
                            [
                                -119.93761704209,
                                48.0251212173103
                            ],
                            [
                                -119.93762235298,
                                48.0251129991323
                            ],
                            [
                                -119.937791237354,
                                48.0248629134805
                            ],
                            [
                                -119.93779696134,
                                48.0248547925806
                            ],
                            [
                                -119.937809569634,
                                48.0248389717441
                            ],
                            [
                                -119.937823686317,
                                48.0248237389812
                            ],
                            [
                                -119.937839263798,
                                48.0248091579048
                            ],
                            [
                                -119.937856225009,
                                48.0247952910879
                            ],
                            [
                                -119.937864208395,
                                48.0247893605722
                            ],
                            [
                                -119.938324855457,
                                48.0244570378257
                            ],
                            [
                                -119.938335151911,
                                48.0244498756752
                            ],
                            [
                                -119.93835291857,
                                48.0244386489961
                            ],
                            [
                                -119.938771116283,
                                48.0241897525121
                            ],
                            [
                                -119.938772868426,
                                48.0241887160408
                            ],
                            [
                                -119.938793537107,
                                48.0241773359006
                            ],
                            [
                                -119.938807168982,
                                48.0241706149352
                            ],
                            [
                                -119.939446939673,
                                48.0238686433802
                            ],
                            [
                                -119.939560793817,
                                48.0237000307836
                            ],
                            [
                                -119.939740118491,
                                48.0233346977206
                            ],
                            [
                                -119.939839413945,
                                48.0231613109783
                            ],
                            [
                                -119.939855485667,
                                48.0231332426353
                            ],
                            [
                                -119.939989306576,
                                48.0229443818654
                            ],
                            [
                                -119.940076201975,
                                48.0227880011723
                            ],
                            [
                                -119.940088492386,
                                48.0227658834744
                            ]
                        ],
                        [
                            [
                                -119.933414155776,
                                48.0290588387605
                            ],
                            [
                                -119.93346177528,
                                48.0290163182035
                            ],
                            [
                                -119.933433367275,
                                48.0291546530411
                            ],
                            [
                                -119.933432943824,
                                48.0291570176081
                            ],
                            [
                                -119.933380200689,
                                48.0295021990818
                            ],
                            [
                                -119.93337993783,
                                48.0295042128477
                            ],
                            [
                                -119.933379733274,
                                48.0295067906722
                            ],
                            [
                                -119.933369443953,
                                48.0297041333495
                            ],
                            [
                                -119.933369383373,
                                48.029706034795
                            ],
                            [
                                -119.933369556553,
                                48.0297105170758
                            ],
                            [
                                -119.93337016425,
                                48.0297149816687
                            ],
                            [
                                -119.933371277618,
                                48.0297196689941
                            ],
                            [
                                -119.933418695514,
                                48.0298791650459
                            ],
                            [
                                -119.933419733355,
                                48.0298822685742
                            ],
                            [
                                -119.933507119811,
                                48.0301184636131
                            ],
                            [
                                -119.933507405314,
                                48.0301192175908
                            ],
                            [
                                -119.93350942243,
                                48.0301237600057
                            ],
                            [
                                -119.93363661835,
                                48.0303748408548
                            ],
                            [
                                -119.933747291675,
                                48.0306474920807
                            ],
                            [
                                -119.933748891739,
                                48.0306510496931
                            ],
                            [
                                -119.933751203378,
                                48.0306552572323
                            ],
                            [
                                -119.933753918361,
                                48.0306593543179
                            ],
                            [
                                -119.933754835436,
                                48.0306605932889
                            ],
                            [
                                -119.933867688804,
                                48.0308091807391
                            ],
                            [
                                -119.933869879538,
                                48.0308119103638
                            ],
                            [
                                -119.933873366926,
                                48.0308157351208
                            ],
                            [
                                -119.933877224696,
                                48.0308193980127
                            ],
                            [
                                -119.933881426203,
                                48.0308228836252
                            ],
                            [
                                -119.933882632241,
                                48.0308238029838
                            ],
                            [
                                -119.933994516334,
                                48.0309075548699
                            ],
                            [
                                -119.934044825077,
                                48.0309452121973
                            ],
                            [
                                -119.934048153728,
                                48.0309475867294
                            ],
                            [
                                -119.934053292024,
                                48.0309508475566
                            ],
                            [
                                -119.934232168579,
                                48.0310559818649
                            ],
                            [
                                -119.934418939072,
                                48.0311665038935
                            ],
                            [
                                -119.934531171943,
                                48.031232696216
                            ],
                            [
                                -119.934577636347,
                                48.031278410225
                            ],
                            [
                                -119.934578737412,
                                48.031279495417
                            ],
                            [
                                -119.934577531649,
                                48.0313923151197
                            ],
                            [
                                -119.934551283327,
                                48.0315867404512
                            ],
                            [
                                -119.934551136362,
                                48.0315879482229
                            ],
                            [
                                -119.934550871306,
                                48.031592428389
                            ],
                            [
                                -119.93454905467,
                                48.0317623960836
                            ],
                            [
                                -119.934549223945,
                                48.0317668774385
                            ],
                            [
                                -119.934549631052,
                                48.0317701784338
                            ],
                            [
                                -119.934580058864,
                                48.0319608767486
                            ],
                            [
                                -119.934594691317,
                                48.0321076288213
                            ],
                            [
                                -119.93459524368,
                                48.0321115131731
                            ],
                            [
                                -119.934596286236,
                                48.0321159420783
                            ],
                            [
                                -119.934596917261,
                                48.032117985318
                            ],
                            [
                                -119.934620685288,
                                48.0321894015887
                            ],
                            [
                                -119.93454198839,
                                48.0321892273154
                            ],
                            [
                                -119.929997228483,
                                48.0321790590087
                            ],
                            [
                                -119.929920783741,
                                48.032178886265
                            ],
                            [
                                -119.930396794717,
                                48.031753772725
                            ],
                            [
                                -119.930451509271,
                                48.0317049091193
                            ],
                            [
                                -119.933414155776,
                                48.0290588387605
                            ]
                        ],
                        [
                            [
                                -119.940982864417,
                                48.0232072462953
                            ],
                            [
                                -119.941026702,
                                48.0231701940242
                            ],
                            [
                                -119.94865355639,
                                48.0269264376379
                            ],
                            [
                                -119.946899845608,
                                48.0285516671502
                            ],
                            [
                                -119.945920375663,
                                48.0285811559232
                            ],
                            [
                                -119.943391153927,
                                48.0286565101399
                            ],
                            [
                                -119.937916430961,
                                48.0288198909179
                            ],
                            [
                                -119.937932392682,
                                48.0321966979857
                            ],
                            [
                                -119.937917823596,
                                48.0330358717282
                            ],
                            [
                                -119.935051742984,
                                48.0330134744476
                            ],
                            [
                                -119.935000337808,
                                48.0328551705205
                            ],
                            [
                                -119.934950059078,
                                48.0326909635545
                            ],
                            [
                                -119.934884115989,
                                48.032457344869
                            ],
                            [
                                -119.934845545922,
                                48.0322376130914
                            ],
                            [
                                -119.934844464158,
                                48.0322329619066
                            ],
                            [
                                -119.934843833113,
                                48.0322309195675
                            ],
                            [
                                -119.934830168767,
                                48.0321898663563
                            ],
                            [
                                -119.934798012216,
                                48.0320932511712
                            ],
                            [
                                -119.934783768161,
                                48.0319503709992
                            ],
                            [
                                -119.934783415155,
                                48.031947651126
                            ],
                            [
                                -119.934753385961,
                                48.0317594760413
                            ],
                            [
                                -119.934755129805,
                                48.0315962598297
                            ],
                            [
                                -119.934781382745,
                                48.0314018344797
                            ],
                            [
                                -119.934781529704,
                                48.0314006267076
                            ],
                            [
                                -119.934781792059,
                                48.0313961465275
                            ],
                            [
                                -119.934783042476,
                                48.0312791063564
                            ],
                            [
                                -119.93478315155,
                                48.0312688968551
                            ],
                            [
                                -119.934785668826,
                                48.0312632774801
                            ],
                            [
                                -119.934878660505,
                                48.0310557078226
                            ],
                            [
                                -119.935044487327,
                                48.0307458284489
                            ],
                            [
                                -119.935302253381,
                                48.0302713717771
                            ],
                            [
                                -119.93564209908,
                                48.0297104318208
                            ],
                            [
                                -119.935923903622,
                                48.0292851132625
                            ],
                            [
                                -119.935924649178,
                                48.0292839596115
                            ],
                            [
                                -119.935925545558,
                                48.0292824901773
                            ],
                            [
                                -119.936252636924,
                                48.0287278378074
                            ],
                            [
                                -119.936299830347,
                                48.0286478143048
                            ],
                            [
                                -119.93638173396,
                                48.0285089259429
                            ],
                            [
                                -119.936704442441,
                                48.028078355054
                            ],
                            [
                                -119.937286944797,
                                48.0276717657735
                            ],
                            [
                                -119.937751966823,
                                48.027342680288
                            ],
                            [
                                -119.938422720327,
                                48.0269793822399
                            ],
                            [
                                -119.939162733213,
                                48.0266949808769
                            ],
                            [
                                -119.939581519799,
                                48.0265324092126
                            ],
                            [
                                -119.939586499926,
                                48.0265303459798
                            ],
                            [
                                -119.939591960105,
                                48.0265277599207
                            ],
                            [
                                -119.939597156007,
                                48.0265249406165
                            ],
                            [
                                -119.939599518077,
                                48.0265235275921
                            ],
                            [
                                -119.939722937086,
                                48.0264473519785
                            ],
                            [
                                -119.939725485074,
                                48.0264457231381
                            ],
                            [
                                -119.93973008903,
                                48.0264424730034
                            ],
                            [
                                -119.939734363971,
                                48.0264390270806
                            ],
                            [
                                -119.939738294982,
                                48.0264354014836
                            ],
                            [
                                -119.939741864477,
                                48.0264316114146
                            ],
                            [
                                -119.93974505889,
                                48.0264276720947
                            ],
                            [
                                -119.939747860606,
                                48.0264236014235
                            ],
                            [
                                -119.939748572634,
                                48.0264224376962
                            ],
                            [
                                -119.939840109686,
                                48.0262693471757
                            ],
                            [
                                -119.939841794422,
                                48.0262663259047
                            ],
                            [
                                -119.93984378203,
                                48.0262620445439
                            ],
                            [
                                -119.93984502947,
                                48.0262586732116
                            ],
                            [
                                -119.93994593677,
                                48.0259533773925
                            ],
                            [
                                -119.940063062161,
                                48.0256536310064
                            ],
                            [
                                -119.940064295154,
                                48.0256501022473
                            ],
                            [
                                -119.940065270972,
                                48.0256464292959
                            ],
                            [
                                -119.940116745619,
                                48.0254163830039
                            ],
                            [
                                -119.940116907655,
                                48.0254156374656
                            ],
                            [
                                -119.940117619436,
                                48.0254110748776
                            ],
                            [
                                -119.940134606313,
                                48.02524741808
                            ],
                            [
                                -119.940227239353,
                                48.0251052222116
                            ],
                            [
                                -119.940227730015,
                                48.0251044548591
                            ],
                            [
                                -119.940230129373,
                                48.025100269862
                            ],
                            [
                                -119.940232116906,
                                48.0250959884915
                            ],
                            [
                                -119.940233681694,
                                48.0250916295782
                            ],
                            [
                                -119.940234814181,
                                48.0250872092618
                            ],
                            [
                                -119.940277623556,
                                48.0248803210251
                            ],
                            [
                                -119.940352862032,
                                48.0245953630125
                            ],
                            [
                                -119.940459903303,
                                48.0243585314175
                            ],
                            [
                                -119.940460622057,
                                48.0243568542911
                            ],
                            [
                                -119.940462186804,
                                48.0243524953728
                            ],
                            [
                                -119.940463321918,
                                48.0243480768631
                            ],
                            [
                                -119.940463906893,
                                48.024344600762
                            ],
                            [
                                -119.940499499982,
                                48.0240706134851
                            ],
                            [
                                -119.940499583728,
                                48.0240699188259
                            ],
                            [
                                -119.940525762995,
                                48.0238415725924
                            ],
                            [
                                -119.940594647272,
                                48.0236865104011
                            ],
                            [
                                -119.9407176029,
                                48.0235413120985
                            ],
                            [
                                -119.94087266305,
                                48.0233525136434
                            ],
                            [
                                -119.940962078313,
                                48.0232346422735
                            ],
                            [
                                -119.940982864417,
                                48.0232072462953
                            ]
                        ]
                    ]
            }
        }
        // cluster: true,
        // clusterMaxZoom: 14, // Max zoom to cluster points on
        // clusterRadius: 50 // Radius of each cluster when clustering points (defaults to 50)
    });

    map.addLayer({
        id: 'parks',
        type: 'fill',
        source: 'parks',
        // filter: ['==', '$type', 'Polygon'],
        layout: {},
        paint: {
            // Use step expressions (https://docs.mapbox.com/mapbox-gl-js/style-spec/#expressions-step)
            // with three steps to implement three types of circles:
            //   * Blue, 20px circles when point count is less than 100
            //   * Yellow, 30px circles when point count is between 100 and 750
            //   * Pink, 40px circles when point count is greater than or equal to 750
            'fill-outline-color': '#F08080',
            'fill-color': '#F08080',
            'fill-opacity': 0.75
            // 'circle-color': [
            //     'step',
            //     ['get', 'point_count'],
            //     '#51bbd6',
            //     100,
            //     '#51bbd6',
            //     750,
            //     '#51bbd6'
            // ],
            // 'circle-radius': [
            //     'step',
            //     ['get', 'point_count'],
            //     20,
            //     10,
            //     30,
            //     20,
            //     40
            // ]
        }
    });

    // map.addLayer({
    //     id: 'cluster-count',
    //     type: 'symbol',
    //     source: 'parks',
    //     filter: ['has', 'point_count'],
    //     layout: {
    //         'text-field': '{point_count_abbreviated}',
    //         'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],
    //         'text-size': 12
    //     }
    // });

    // map.addLayer({
    //     id: 'unclustered-point',
    //     type: 'circle',
    //     source: 'parks',
    //     filter: ['!', ['has', 'point_count']],
    //     paint: {
    //         'circle-color': '#11b4da',
    //         'circle-radius': 4,
    //         'circle-stroke-width': 1,
    //         'circle-stroke-color': '#fff'
    //     }
    // });

    // // inspect a cluster on click
    // map.on('click', 'clusters', (e) => {
    //     const features = map.queryRenderedFeatures(e.point, {
    //         layers: ['clusters']
    //     });
    //     const clusterId = features[0].properties.cluster_id;
    //     map.getSource('parks').getClusterExpansionZoom(
    //         clusterId,
    //         (err, zoom) => {
    //             if (err) return;

    //             map.easeTo({
    //                 center: features[0].geometry.coordinates,
    //                 zoom: zoom
    //             });
    //         }
    //     );
    // });

    // // When a click event occurs on a feature in
    // // the unclustered-point layer, open a popup at
    // // the location of the feature, with
    // // description HTML from its properties.
    // map.on('click', 'unclustered-point', (e) => {
    //     // popupMarkup is from a virtual in the campground schema (campground.js)
    //     const { popupMarkup } = e.features[0].properties
    //     const coordinates = e.features[0].geometry.coordinates.slice();
    //     const mag = e.features[0].properties.mag;
    //     const tsunami =
    //         e.features[0].properties.tsunami === 1 ? 'yes' : 'no';

    //     // Ensure that if the map is zoomed out such that
    //     // multiple copies of the feature are visible, the
    //     // popup appears over the copy being pointed to.
    //     while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
    //         coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
    //     }

    //     new mapboxgl.Popup()
    //         .setLngLat(coordinates)
    //         .setHTML(popupMarkup)
    //         .addTo(map);
    // });

    // map.on('mouseenter', 'clusters', () => {
    //     map.getCanvas().style.cursor = 'pointer';
    // });
    // map.on('mouseleave', 'clusters', () => {
    //     map.getCanvas().style.cursor = '';
    // });
});